---
title: "Java 升级"
weight: 40
bookToc: true
---

{{% hint info %}}
本文档涵盖 Amazon Q Developer 的 Java 代码升级功能，包括 /transform 命令的使用、限制和费用相关问题。
{{% /hint %}}

## Java 升级功能概述

### Q. AWS Transform 和 Amazon Q Developer 里面的 /transform 有什么关系？

原 Amazon Q Developer 中的 .NET、Mainframe、VMWare 三大功能已经从 Amazon Q Developer 中分离，成为新的服务 AWS Transform。Amazon Q Developer 目前仅包含 Java Transform。

## 功能使用

### Q. IDE 插件的 /transform 功能升级 Java 时，如果不在 List 中的 dependency 会升级吗？

不会。特别是如果一些依赖本身就不支持新版本 Java，那么这个升级可能会失败。

{{% hint warning %}}
**注意**: 在使用 /transform 功能前，请确保您的项目依赖都支持目标 Java 版本，否则升级可能会失败。
{{% /hint %}}

## 费用与限制

### Q. $19/月/人的订阅费用之外，Java 升级还有哪些费用？

Amazon Q Developer 采用 $19/月/人的固定订阅模式，包含所有核心功能和每月 4,000 行 Java 代码升级额度（账号共享）。

**唯一的额外费用**: 当 Java 代码升级超出月度 4,000 行额度时，按 $0.003/行收取超额费用。

如果对费用存有疑虑，请联系与您对接的 AWS 工作人员。

### Q. Java 升级功能的每月 4000 行代码额度是否支持账号级别共享？

支持。详情请看[定价文档](https://aws.amazon.com/q/developer/pricing/)。

### Q. Java 升级功能运行失败或者中途取消会产生费用吗？

不会。只有当升级完毕，看到 DIFF 后才会产生费用，无论是否接受更改。

## 最佳实践

### 升级前准备

1. **检查依赖兼容性** - 确保所有项目依赖都支持目标 Java 版本
2. **备份代码** - 在执行升级前创建代码备份
3. **测试环境验证** - 先在测试环境中验证升级效果

### 升级过程中

1. **监控进度** - 关注升级过程中的提示和警告
2. **审查变更** - 仔细检查生成的 DIFF，确保变更符合预期
3. **分批处理** - 对于大型项目，考虑分批进行升级

### 升级后验证

1. **编译测试** - 确保升级后的代码能够正常编译
2. **功能测试** - 运行完整的测试套件验证功能正确性
3. **性能测试** - 检查升级后的性能表现

{{% hint info %}}
**提示**: 建议在升级大型项目前，先用小型项目测试 /transform 功能的效果。
{{% /hint %}}

## 常见问题

### Q. 升级失败了怎么办？

1. 检查错误日志，了解失败原因
2. 确认所有依赖都支持目标 Java 版本
3. 尝试分批升级，减少单次处理的代码量
4. 如果问题持续，联系 AWS Support

### Q. 如何优化升级成本？

1. **合理规划** - 在月初进行大批量升级，充分利用免费额度
2. **分批处理** - 避免一次性升级大量代码导致超额费用
3. **团队协调** - 由于额度是账号级别共享，需要团队协调使用

### Q. 升级后的代码质量如何保证？

1. Amazon Q Developer 会保持代码的功能逻辑不变
2. 建议升级后进行完整的代码审查
3. 运行现有的测试套件验证功能正确性
4. 对于关键业务代码，建议进行额外的人工验证
